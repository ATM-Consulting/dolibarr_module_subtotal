# Change Log
All notable changes to this project will be documented in this file.

# [Unreleased]



## Version 3.18 - 26/04/2023

- FIX : DA023419 - Les arrondis des sous-totaux n'était plus qu'à un chiffre après la virgule - *01/06/2023* - 3.18.3
- FIX : Include path  *03/05/2023* - 3.18.2
- FIX : Missing translations *26/04/2023* - 3.18.1
- NEW : Ajout options *27/02/2023* - 3.18.0
	- "Cacher les options de titre" 
	- "Cacher l'option du saut de page avant"
	- "Cache les options génération du document"
- NEW : Allow module to regenerate invoice document after being generated by cron createRecurringInvoices to fix formatting issue. - *07/03/2023* - 3.17.0
- NEW : add es_ES language - *07/03/2023* - 3.16.5
- FIX : Warning on PHP 8 *20/03/2023* - 3.16.4
- FIX : Display of free line remove button *20/03/2023* - 3.16.3
- FIX : rounding of subtotal in PDF  - *20/02/2023* - 3.16.2
- FIX : La création de factures depuis la liste des commandes créé un décalage titre sous total - *20/02/2023* - 3.16.1
- NEW : add rank input for subtotal lines *24/01/2023* - 3.16.0

## Version 3.16

- NEW : Ajout configuration SUBTOTAL_TITLE_SIZE permettant d'éditer la taille des titres - *07/02/2023* - 3.16.0

## Version 3.15

- FIX : retrait des constantonoff lorsqu'on est en mode edit dans la page de conf - *09/03/2023* - 3.15.4
- FIX : Multiples erreurs de colspan qui créaient des décalages sur les tableaux de lignes - *20/01/2023* - 3.15.3
- FIX : DA022658 - Gestion des non-compris non-fonctionnelle - 3.15.2
- FIX : Fatal error *02/01/2023* - 3.15.1
- NEW : Ajout de massaction de suppression de ligne sur les card *16/11/2022* 3.15.0

## Version 3.14 PI

- FIX : Update info bits on create from hook - *18/11/2022* - 3.14.8 ```PR #273 OpenDsi```  
  le code permettant de mettre à jour l'info bit semble être obsolète depuis la version 10 de Dolibarr (le mieux serait de remonter sur les versions précédentes et retrouver à partir de quelle version de Dolibarr ce code n'est plus utile)
  De plus, il ajoute des sauts de lignes lorsque l'objet copié et l'objet source ne possèdent pas le même nombre de lignes. En effet un autre module peut ajouter une ligne et on a alors un saut de ligne supplémentaire.
- FIX : PHP 8 Compatibility - *19/10/2022* - 3.14.7
- FIX : Remove transaction in  pdf_writelinedesc *10/11/2022* - 3.14.6 
- FIX : PHP 8 Compatibility - *13/07/2022* - 3.14.5
- FIX : Admin déplacement de l'option de récap en zone expérimentale *11/07/2022* 3.14.4
- FIX : html tag missing for style *11/07/2022* 3.14.3
- FIX duplicate origin lines on create from proposal *11/07/2022* 3.14.2 [PR #273 OpenDsi](https://github.com/ATM-Consulting/dolibarr_module_subtotal/pull/273)
  when you create an invoice or order from a proposal you got duplicate lines if there are "Ouvrage" (or other external modules with product type "9") lines in proposal
- FIX : Compatibility V16 Dictionnaries *14/06/2022* - 3.14.1
- NEW : Refonte page setup avec class setup de Dolibarr V15 *11/05/2022* 3.14.0
- NEW : Ajout de la class TechATM pour l'affichage de la page "A propos" *10/05/2022* 3.13.0
- NEW : Add total_ht on originproductline tpl if available + add class td identification + add data-id tr identification *07/04/2022* - 3.12.0

## Version 3.11
- FIX : FIX DOUBLE PARENTHESIS - *15/05/2023* - 3.11.13  
- FIX : COMPAT V16 family - *02/06/2022)* - 3.11.12  
- FIX : TRIGGER UPDATE AND MODIFY - *02/06/2022)* - 3.11.11 
- FIX : description - *02/06/2022)* - 3.11.10  
- FIX : $pdf->rollbackTransaction without start *29/06/2022* - 3.11.9
- FIX : colspan 4 to 5 to fix view of propal and bill *07/04/2022* - 3.11.8
- FIX : title and subtotal padding *30/03/2022* - 3.11.7
- FIX : title and text offset position *29/03/2022* - 3.11.6
- FIX : background Color position *17/03/2022* - 3.11.5
- FIX : remove useless retrocompatibility file and change module min compatibility version to Dolibarr 7.0 and PHP 5.4  *08/03/2022* - 3.11.4
- FIX : all table class oddeven *08/03/2022* - 3.11.3
- FIX : Module logo and setup table class *07/03/2022* - 3.11.2
- FIX : Advanced setup option not used correctly *07/03/2022* - 3.11.1
- NEW : Add new conf to remove strange behavior on PDF subtotal line. Subtotal label always contain title label, it's possible to disable this behavior. *07/03/2022* - 3.11.0
- NEW : Option to set background color of title and subtotal *04/03/2022* - 3.10.0 [PR #216 gdesnoues](https://github.com/ATM-Consulting/dolibarr_module_subtotal/pull/216)
- NEW : Sum qty in each subtotal line  *10/12/2021* - 3.9.0 [PR #222 OpenDsi](https://github.com/ATM-Consulting/dolibarr_module_subtotal/pull/222)  
  
  Apport de possibilité du choix du modèle de docuement dans la configuration du module.
  Les options sur les sous-totaux ont été mises sur les lignes de sous-totaux pour simplification du code et éviter de parcourir toutes les lignes afin de retrouver le titre parent.
- NEW : Can select sub-total lines in supplier order and invoice  *10/12/2021* - 3.8.0 [PR #226 OpenDsi](https://github.com/ATM-Consulting/dolibarr_module_subtotal/pull/226)

## Version 3.7
- FIX : object was never fetch *07/02/2022* - 3.7.4
- FIX : Fix compatibility 11.0 pdfEvolution *19/01/2022* - 3.7.3
- FIX : Compatibility with version 14 and lower *20/12/2021* - 3.7.2 @jyhere #229
- FIX : Compatibility with version 15 *14/12/2021* - 3.7.1
- NEW : add api subtotal to module. add entryPoint getTotalLine  *17/11/2021* - 3.7.0
    

## Version 3.6
- FIX : Substitutions ODT ne se font pas pour toutes les actions sur les factures *15/12/2022* 3.6.11
- FIX : Title lines broken on PDF for documents whose lines use the `desc` field instead of the `label` field (such as
        supplier orders and invoices) *22/11/2021* - 3.6.10
- FIX : checkbox to add a subtotal title block per order on invoices using the "Bill orders" feature was broken by
        core changes in Dolibarr *12/11/2021* - 3.6.9
- FIX : Missing columns in invoice creation page (from order) *10/06/2022* - 3.6.8
- FIX : addition of a conf allowing to add the subtotal line or not when creating an expedition from an order *12/07/2021* - 3.6.7 
- FIX : Clone icon compatibility *08/06/2021* - 3.6.6
- FIX : Uniformize module descriptor's editor, editor_url and family fields *2021-06-08* - 3.6.5
- FIX : Ajout include de la classe dans actions_subtotal pour éviter des erreurs *21/05/2021* - 3.6.4
- FIX : Fix document line colspan fail if Margin module don't enabled but some conf of this module still actived *21/04/2021* - 3.6.3
- FIX : Dolibarr v13.0 compatibility (token renewal exclusion) *13/04/2021* - 3.6.2
- FIX : Exclude subtotals from the total calculation *07/04/2021* - 3.5.6
- NEW : Ajouter les lignes 'Titre' , 'Total' , 'Libre' aux generations d'expeditions de commandes expédiables (il faudra
  supprimer les lignes de sous-total à la main si le besoin s'en fait sentir) *03/04/2021* - 3.5.5


## Version 3.5

- FIX : Text or title line break PDF *15/04/2021* - 3.5.7
- NEW Ajouter les lignes 'Titre' , 'Total' , 'Libre' aux generations d'expeditions de commandes expédiables (il faudra
  supprimer les lignes de sous-total à la main si le besoin s'en fait sentir) *2021-02-03* - 3.5.5
- NEW : Add more compatibility for new PDF models using new cols system. 
  Ceci est un fix avec un fort impact potentiel sur les instances courantes. Il est donc préférable de le placer
  sur une nouvelle release - 3.5

## Version 3.5
- FIX: invoice creation: title/subtotal/free text lines coming from shipments or deliveries not imported with special code (MDLL) - *17/11/2021* - 3.5.8
- FIX : Text or title line break PDF *15/04/2021* - 3.5.7
- NEW Ajouter les lignes 'Titre' , 'total' , 'libre' aux generation d'expedition de commandes expédiables (il faudra supprimer les lignes de sous-total à la main si le besoin s'en fait sentir ) [2021-02-03]

